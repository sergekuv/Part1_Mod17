В папках представлены три варианта решения, по-разному и в разной степени решающие проблему несоответствия кода 17.6.4 принципу открытости/закрытости. Это первое, что пришло в голову; можно использовать комбинации этих трех или придумывать другие варианты.

Поскольку четкого описания того, как должен производиться расчет процентов, нет, очень может быть, что мое понимание расходится с пониманием автора задачи (в таком случае - извините). В 17.6.4 расчет производится, на мой взгляд, весьма оригинильно, я постарался воспроизвести эту логику.    
